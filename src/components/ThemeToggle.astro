---
// Theme Toggle Component - macOS Terminal Style Theme Switcher
// Features Ghostty popular terminal themes
---

<div class="theme-toggle">
	<button 
		class="theme-button active" 
		data-theme="catppuccin-mocha"
		aria-label="Switch to Catppuccin Mocha theme"
		title="Catppuccin Mocha (Dark)"
	>
		<span class="theme-indicator catppuccin-mocha"></span>
		<span class="theme-label">Mocha</span>
	</button>
	<button 
		class="theme-button" 
		data-theme="dracula"
		aria-label="Switch to Dracula theme"
		title="Dracula (Dark)"
	>
		<span class="theme-indicator dracula"></span>
		<span class="theme-label">Dracula</span>
	</button>
	<button 
		class="theme-button" 
		data-theme="catppuccin-latte"
		aria-label="Switch to Catppuccin Latte theme"
		title="Catppuccin Latte (Light)"
	>
		<span class="theme-indicator catppuccin-latte"></span>
		<span class="theme-label">Latte</span>
	</button>
	<button 
		class="theme-button" 
		data-theme="solarized-light"
		aria-label="Switch to Solarized Light theme"
		title="Solarized Light (Light)"
	>
		<span class="theme-indicator solarized-light"></span>
		<span class="theme-label">Solarized</span>
	</button>
</div>

<style>
	/* Theme Toggle Styles - Scaled 150% */
	.theme-toggle {
		display: flex;
		gap: 6px;
		padding: 6px;
		background: var(--terminal-bg-secondary);
		border-radius: 12px;
		border: 1px solid rgba(255, 255, 255, 0.1);
	}

	.theme-button {
		display: flex;
		align-items: center;
		gap: 9px;
		padding: 9px 15px;
		background: transparent;
		border: none;
		border-radius: 9px;
		color: var(--terminal-text-muted);
		font-family: "SF Mono", "Menlo", "Monaco", "Courier New", monospace;
		font-size: 18px;
		cursor: pointer;
		transition: all 0.2s ease;
	}

	.theme-button:hover {
		background: rgba(255, 255, 255, 0.05);
		color: var(--terminal-text);
	}

	.theme-button.active {
		background: var(--terminal-bg);
		color: var(--terminal-text);
		box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
	}

	.theme-indicator {
		width: 15px;
		height: 15px;
		border-radius: 50%;
		flex-shrink: 0;
	}

	/* Ghostty Theme Colors */
	.theme-indicator.catppuccin-mocha {
		background: #CBA6F7;
	}

	.theme-indicator.dracula {
		background: #BD93F9;
	}

	.theme-indicator.catppuccin-latte {
		background: #8839EF;
	}

	.theme-indicator.solarized-light {
		background: #268BD2;
	}

	.theme-label {
		display: none;
	}

	@media (min-width: 960px) {
		.theme-label {
			display: inline;
		}
	}

	@media (max-width: 720px) {
		.theme-toggle {
			gap: 3px;
			padding: 3px;
		}

		.theme-button {
			padding: 6px 9px;
		}

		.theme-indicator {
			width: 12px;
			height: 12px;
		}
	}
</style>

<script>
	// Theme switching logic
	const themeButtons = document.querySelectorAll('.theme-button');
	const html = document.documentElement;

	// Get saved theme or default to 'catppuccin-mocha'
	const savedTheme = localStorage.getItem('theme') || 'catppuccin-mocha';
	html.setAttribute('data-theme', savedTheme);

	// Update active button
	themeButtons.forEach((btn: Element) => {
		const button = btn as HTMLElement;
		if (button.dataset.theme === savedTheme) {
			button.classList.add('active');
		} else {
			button.classList.remove('active');
		}
	});

	// Add click handlers
	themeButtons.forEach((btn: Element) => {
		const button = btn as HTMLElement;
		button.addEventListener('click', () => {
			const theme = button.dataset.theme;
			
			// Update theme
			html.setAttribute('data-theme', theme);
			localStorage.setItem('theme', theme);
			
			// Update active button
			themeButtons.forEach((b: Element) => (b as HTMLElement).classList.remove('active'));
			button.classList.add('active');
		});
	});
</script>
